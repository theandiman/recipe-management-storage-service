{"openapi":"3.1.0","info":{"title":"Recipe Storage Service API","description":"API for storing and managing user recipes with Firebase authentication","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"v1.0"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"security":[{"Firebase Auth":[]}],"tags":[{"name":"Recipe Storage","description":"APIs for storing and retrieving user recipes"}],"paths":{"/api/recipes/{recipeId}":{"get":{"tags":["Recipe Storage"],"summary":"Get a specific recipe by ID","description":"Retrieves a recipe by its ID. User must own the recipe to access it. Requires Firebase authentication token in Authorization header.","operationId":"getRecipe","parameters":[{"name":"recipeId","in":"path","description":"Recipe ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Recipe retrieved successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecipeResponse"}}}},"401":{"description":"Unauthorized - invalid or missing Firebase token"},"403":{"description":"Forbidden - user does not own this recipe"},"404":{"description":"Recipe not found"}},"security":[{"Firebase Auth":[]}]},"put":{"tags":["Recipe Storage"],"summary":"Update a recipe","description":"Updates an existing recipe. User must own the recipe to update it. Requires Firebase authentication token in Authorization header.","operationId":"updateRecipe","parameters":[{"name":"recipeId","in":"path","description":"Recipe ID to update","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Updated recipe details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRecipeRequest"}}},"required":true},"responses":{"200":{"description":"Recipe updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecipeResponse"}}}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized - invalid or missing Firebase token"},"403":{"description":"Forbidden - user does not own this recipe"},"404":{"description":"Recipe not found"}},"security":[{"Firebase Auth":[]}]},"delete":{"tags":["Recipe Storage"],"summary":"Delete a recipe by ID","description":"Deletes a recipe by its ID. User must own the recipe to delete it. Requires Firebase authentication token in Authorization header.","operationId":"deleteRecipe","parameters":[{"name":"recipeId","in":"path","description":"Recipe ID to delete","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Recipe deleted successfully"},"401":{"description":"Unauthorized - invalid or missing Firebase token"},"403":{"description":"Forbidden - user does not own this recipe"},"404":{"description":"Recipe not found"}},"security":[{"Firebase Auth":[]}]}},"/api/recipes":{"get":{"tags":["Recipe Storage"],"summary":"Get all user recipes","description":"Retrieves all recipes owned by the authenticated user, ordered by creation date (newest first). Requires Firebase authentication token in Authorization header.","operationId":"getUserRecipes","responses":{"200":{"description":"Recipes retrieved successfully (returns empty array if none found)","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecipeResponse"}}}},"401":{"description":"Unauthorized - invalid or missing Firebase token"}},"security":[{"Firebase Auth":[]}]},"post":{"tags":["Recipe Storage"],"summary":"Save a new recipe","description":"Creates and stores a new recipe for the authenticated user. Requires Firebase authentication token in Authorization header.","operationId":"saveRecipe","requestBody":{"description":"Recipe details to save","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRecipeRequest"}}},"required":true},"responses":{"201":{"description":"Recipe created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecipeResponse"}}}},"400":{"description":"Invalid request body (missing required fields or validation errors)"},"401":{"description":"Unauthorized - invalid or missing Firebase token"}},"security":[{"Firebase Auth":[]}]}},"/api/recipes/{recipeId}/sharing":{"patch":{"tags":["Recipe Storage"],"summary":"Update recipe sharing status","description":"Updates whether a recipe is public or private. User must own the recipe. Requires Firebase authentication token in Authorization header.","operationId":"updateRecipeSharing","parameters":[{"name":"recipeId","in":"path","description":"Recipe ID to update","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"New sharing status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSharingRequest"}}},"required":true},"responses":{"200":{"description":"Sharing status updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecipeResponse"}}}},"401":{"description":"Unauthorized - invalid or missing Firebase token"},"403":{"description":"Forbidden - user does not own this recipe"},"404":{"description":"Recipe not found"}},"security":[{"Firebase Auth":[]}]}},"/api/recipes/public":{"get":{"tags":["Recipe Storage"],"summary":"Get all public recipes","description":"Retrieves all recipes that have been marked as public. No authentication required.","operationId":"getPublicRecipes","responses":{"200":{"description":"Public recipes retrieved successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecipeResponse"}}}}},"security":[{"Firebase Auth":[]}]}}},"components":{"schemas":{"CreateRecipeRequest":{"type":"object","description":"Request body for creating a new recipe","properties":{"title":{"type":"string","description":"Recipe title","example":"Spaghetti Carbonara","minLength":1},"description":{"type":"string","description":"Recipe description","example":"A classic Italian pasta dish with eggs, cheese, and pancetta"},"ingredients":{"type":"array","description":"List of ingredients with quantities","example":["400g spaghetti","200g pancetta","4 large eggs","100g Parmesan cheese"],"items":{"type":"string"},"minItems":1},"instructions":{"type":"array","description":"Step-by-step cooking instructions","example":["Boil pasta in salted water","Fry pancetta until crispy","Mix eggs and cheese"],"items":{"type":"string"},"minItems":1},"prepTime":{"type":"integer","format":"int32","description":"Preparation time in minutes","example":15},"cookTime":{"type":"integer","format":"int32","description":"Cooking time in minutes","example":20},"servings":{"type":"integer","format":"int32","description":"Number of servings","example":4},"nutrition":{"type":"object","additionalProperties":{},"description":"Nutritional information per serving","example":{"calories":450,"protein":20,"carbs":55,"fat":18}},"tips":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}},"description":"Cooking tips organized by category","example":{"prep":["Use room temperature eggs"],"serving":["Serve immediately"]}},"imageUrl":{"type":"string","description":"URL to recipe image","example":"https://example.com/images/carbonara.jpg"},"source":{"type":"string","description":"Source of the recipe","enum":["ai-generated","manual"],"example":"ai-generated","minLength":1},"tags":{"type":"array","description":"Recipe tags for categorization","example":["Italian","Pasta","Quick"],"items":{"type":"string"}},"dietaryRestrictions":{"type":"array","description":"Dietary restrictions/labels","example":["Gluten-Free","Vegetarian"],"items":{"type":"string"}},"isPublic":{"type":"boolean","default":false,"description":"Whether the recipe is shared with everyone","example":true}},"required":["ingredients","instructions","servings","source","title"]},"RecipeResponse":{"type":"object","description":"Recipe response with all recipe details including metadata","properties":{"id":{"type":"string","description":"Unique recipe identifier (Firestore document ID)","example":"abc123def456"},"userId":{"type":"string","description":"Firebase user ID of the recipe owner","example":"firebase-uid-123"},"title":{"type":"string","description":"Recipe title","example":"Spaghetti Carbonara"},"description":{"type":"string","description":"Recipe description","example":"A classic Italian pasta dish with eggs, cheese, and pancetta"},"ingredients":{"type":"array","description":"List of ingredients with quantities","example":["400g spaghetti","200g pancetta","4 large eggs"],"items":{"type":"string"}},"instructions":{"type":"array","description":"Step-by-step cooking instructions","example":["Boil pasta in salted water","Fry pancetta until crispy"],"items":{"type":"string"}},"prepTime":{"type":"integer","format":"int32","description":"Preparation time in minutes","example":15},"cookTime":{"type":"integer","format":"int32","description":"Cooking time in minutes","example":20},"servings":{"type":"integer","format":"int32","description":"Number of servings","example":4},"nutrition":{"type":"object","additionalProperties":{},"description":"Nutritional information per serving","example":{"calories":450,"protein":20,"carbs":55,"fat":18}},"tips":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}},"description":"Cooking tips organized by category","example":{"prep":["Use room temperature eggs"],"serving":["Serve immediately"]}},"imageUrl":{"type":"string","description":"URL to recipe image","example":"https://example.com/images/carbonara.jpg"},"source":{"type":"string","description":"Source of the recipe","enum":["ai-generated","manual"],"example":"ai-generated"},"createdAt":{"type":"string","format":"date-time","description":"Recipe creation timestamp","example":"2024-01-15T10:30:00Z"},"updatedAt":{"type":"string","format":"date-time","description":"Recipe last update timestamp","example":"2024-01-15T14:30:00Z"},"tags":{"type":"array","description":"Recipe tags for categorization","example":["Italian","Pasta","Quick"],"items":{"type":"string"}},"dietaryRestrictions":{"type":"array","description":"Dietary restrictions/labels","example":["Gluten-Free","Vegetarian"],"items":{"type":"string"}},"isPublic":{"type":"boolean","description":"Whether the recipe is shared with everyone","example":true}}},"UpdateSharingRequest":{"type":"object","description":"Request to update recipe sharing status","properties":{"isPublic":{"type":"boolean","description":"Whether the recipe should be public","example":true}},"required":["isPublic"]}},"securitySchemes":{"Firebase Auth":{"type":"http","description":"Firebase ID Token (JWT). Obtain from Firebase Authentication and include in Authorization header.","name":"Firebase Auth","scheme":"bearer","bearerFormat":"JWT"}}}}